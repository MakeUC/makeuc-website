// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(cuid())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  createdAt DateTime? @default(now())
}

model Registrant {
  id                               String    @id @default(cuid())
  firstName                        String    @default("")
  lastName                         String    @default("")
  email                            String    @default("")
  age                              Int
  gender                           String
  ethnicity                        String
  school                           School?   @relation("Registrant_school", fields: [schoolId], references: [id])
  schoolId                         String?   @map("school")
  major                            String    @default("")
  degree                           String
  country                          String    @default("")
  expectedGraduationYear           Int
  resumeUrl                        String    @default("")
  hackathonsAttended               Int?
  notes                            String    @default("")
  mlhCodeOfConductAgreement        Boolean   @default(false)
  mlhPrivacyPolicyAgreement        Boolean   @default(false)
  mlhEmailAgreement                Boolean   @default(false)
  registrationYear                 Int?      @default(2023)
  createdAt                        DateTime? @default(now())
  verified                         Boolean   @default(false)
  emailRegistrationYearCompoundKey String    @unique @default("")

  @@index([email])
  @@index([schoolId])
  @@index([registrationYear])
}

model School {
  id                     String       @id @default(cuid())
  name                   String       @unique @default("")
  city                   String       @default("")
  state                  String       @default("")
  county                 String       @default("")
  country                String       @default("")
  alias                  String       @default("")
  createdAt              DateTime?    @default(now())
  from_Registrant_school Registrant[] @relation("Registrant_school")

  @@index([city])
  @@index([state])
  @@index([county])
  @@index([country])
  @@index([alias])
}
